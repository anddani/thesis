% TODO:

\textit{Summary of the chapter}

% Introduce the area (background)?
% What needs to be done (problem)?
% What is supposed to be done (purpose)?
% What is the result of the work (goal)?
% How will the thesis and work be carried out (methods)?
% How will the work be presented (outline)?

%%==================================================================
%% BACKGROUND
%%==================================================================
% Introduce company and what they do/why mobile phone technology is relevant today. Lead to the problem.
\section{Background}
% Android History
% Specific with time 
\gls{android} applications are written in Java to ensure portability and architecture independence. Applications have been run on the Dalvik virtual machine until Android version 5\cite{android:dalvik} in INSERT YEAR AND CITATION HERE. Since then, Dalvik has been replaced by Android Runtime. Android Runtime, ART for short, differs from Dalvik in that it adopts the Ahead-Of-Time (AOT) concept when it compiles during installation of the app. Dalvik only uses a concept called Just-In-Time (JIT) compilation which means that code is compiled to native code during runtime, when needed.

% Some of the findings in this report might help decide using a specific programming language for programming an application. For some problems, it is necessary to choose the appropriate programming language to ensure that an application is smooth and responsive. It is therefore important to ...(uppskatta) when and where it is necessary to optimize the code. The objective of this report is to investigate, for a specific problem, when and where it will be beneficial to use C++ instead of Java when programming for Android.

%%==================================================================
%% PROBLEM
%%==================================================================
% Describe problem and form the hypothesis
\section{Problem}
% Research questions
To ensure that resources are spent in an efficient manner, this report has investigated whether the performance boost from writing the Fast Fourier Transform (\gls{fft}) in C++ instead of Java is significant. The following research questions were formed on the basis of the requirements:


%\hilight{calculation heavy tasks} in C or C++ instead of Java is significant.

\begin{center}
    \textit{Is there a performance difference in the implementation of an \gls{fft} in Java compared to native C++ code on an Android platform using ART?}
\end{center}


%%==================================================================
%% PURPOSE
%%==================================================================
% Purpose with the thesis
% Purpose with the work
% What the report shows
\section{Purpose}
This report is a study that evaluates when and where there is a gain in writing a part of an Android application in C++. The purpose of this report is to educate the reader about the process of porting parts of an app to native code using the Native Development Kit (\gls{ndk}) and explore the topic of performance differences between native code compiled with \gls{clang} and ART.\\

% if there is a gain in spending resources to implement some part of an Android app in C or C++.

The result of the report can be used to value the decision of implementing a given algorithm or other solutions in native code instead of Java. \hilight{The FFT is frequently used for signal processing when you want to ....} It is therefore valuable to know how efficient an implementation in native code is, depending on the size of the data.

%%==================================================================
%% GOAL
%%==================================================================
% More general than purpose
% Titta p√• JNIkostnad
\section{Goal}
The goal of this report is to examine the efficiency of ART and how it compares to natively written code using the NDK in combination with the Java Native Interface (\gls{jni}). This report presents a study that investigates the relevance of using the NDK to produce efficient code. Further, the cost to pass through the JNI will also be a factor when analysing the code. A discussion about to what extent the simplicity of the code outweighs the performance of the code is also present. For people who are interested to know about the impacts of implementing algorithms in C++ for Android, this report might be of some use.

%%==================================================================
%% METHOD
%%==================================================================
% Research - Scientific
% Material (literature), about literature study
% Thesis (to find material/data and reach results), concerns thesis
% The work
% Summarize the methods used and describe them in detail in method chapter.
% Motivate using Quantitative or Qualitative research methodology
% Philosophical assumption
% How did I search databases for information?
\section{Method}
%% KEYWORDS
%% NDK, Android, Benchmark*, Java, C, C++, Dalvik, Runtime, ART, efficien*, JNI,
%% FFT, Fast Fourier Transform, Fourier Transform, 

% How I gathered data.
The method used to find the relevant literature and previous studies was to search through databases using boolean expressions. By specifying synonyms and required keywords, more literature could be found. Figure~\ref{fig:db:search} contains the expression that was used to filter out relevant articles. For each article found, the liability was assessed by looking at the amount of times it has been referenced (for articles) and if it has been through a peer-review.

\begin{figure}
    \centering
    \begin{align*}
        (\text{NDK OR JNI})               & \text{ AND } \\
        \text{Android}                    & \text{ AND } \\
        (\text{benchmark* OR efficien*})  & \text{ AND } \\
        (\text{Java OR C OR C++})         & \text{ AND } \\
        (\text{Dalvik OR Runtime OR ART}) &
    \end{align*}
    \caption{Expression used to filter out relevant articles}
    \label{fig:db:search}
\end{figure}


%%==================================================================
%% DELIMITATIONS
%%==================================================================
\section{Delimitations}
% Fix contradicting statement
% Skip multiple cores?
This report does only cover a performance evaluation of the FFT algorithm and does not go into detail on other related algorithms. The decision of choosing the FFT was due to it being a common algorithm to use for signal analysis. This report will not investigate the performance differences for FFT in parallel due to the complexity of the Linux kernel used on Android. This would require more knowledge outside the scope of this report and would result in a more broad subject.

%%==================================================================
%% ETHICS AND SUSTAINABILITY
%%==================================================================
% Environment, economics, society
\section{Ethics and Sustainability}
An ethical aspect of this report is ...\\

Environmental sustainability is fulfilled in this report because there is an aspect of battery usage in different implementations of algorithms. The less number of instructions an algorithm require, the faster will the CPU lower its frequency, saving power. This will also have an influence on the users' experience and can therefore have an impact on the society aspect of sustainability. If this report is used as a basis on a decision that have an economical impact, this report would fulfil the economical sustainability goal.

%%==================================================================
%% OUTLINE
%%==================================================================
\section{Outline}
\begin{itemize}
    \item \textbf{Chapter \ref{ch:introduction} - Introduction --}
    \item \textbf{Chapter \ref{ch:background} - Background --}
    \item \textbf{Chapter \ref{ch:methodology} - Methodology --}
    \item \textbf{Chapter \ref{ch:experiments} - Experiments --}
    \item \textbf{Chapter \ref{ch:discussion} - Discussion --}
    \item \textbf{Chapter \ref{ch:conclusion} - Conclusion --}
\end{itemize}
